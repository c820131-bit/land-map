<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ê°„ë‹¨ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            padding: 40px;
            max-width: 800px;
            margin: 0 auto;
        }
        h1 { color: #333; }
        .status {
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-size: 18px;
        }
        .error { background: #ffebee; color: #c62828; border: 2px solid #c62828; }
        .success { background: #e8f5e9; color: #2e7d32; border: 2px solid #2e7d32; }
        .info { background: #e3f2fd; color: #1565c0; border: 2px solid #1565c0; }
        #map { width: 100%; height: 400px; background: #f0f0f0; border: 3px solid #333; margin: 20px 0; }
        pre { background: #f5f5f5; padding: 15px; overflow: auto; }
        .code { background: #fff3e0; padding: 3px 8px; border-radius: 3px; font-family: monospace; }
    </style>
</head>
<body>
    <h1>ğŸ§ª ì¹´ì¹´ì˜¤ ì§€ë„ API ê°„ë‹¨ í…ŒìŠ¤íŠ¸</h1>

    <div class="info status">
        <strong>API í‚¤:</strong> <span class="code">29b5e465ce1f0e75c0c79be6671c8232</span><br>
        <strong>í˜ì´ì§€ URL:</strong> <span class="code" id="pageUrl"></span>
    </div>

    <div id="result"></div>
    <div id="map"></div>
    <div id="details"></div>

    <script>
        document.getElementById('pageUrl').textContent = window.location.href;
        const result = document.getElementById('result');
        const details = document.getElementById('details');

        // SDK ë¡œë“œ ì „ ì²´í¬
        result.innerHTML = '<div class="info status">â³ ì¹´ì¹´ì˜¤ SDK ë¡œë”© ì¤‘...</div>';
    </script>

    <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=29b5e465ce1f0e75c0c79be6671c8232&autoload=false"
            onerror="document.getElementById('result').innerHTML = '<div class=\\'error status\\'>âŒ <strong>SDK ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨!</strong><br><br>ê°€ëŠ¥í•œ ì›ì¸:<br>1. ë„¤íŠ¸ì›Œí¬ ì°¨ë‹¨<br>2. ì¹´ì¹´ì˜¤ ì„œë²„ ë¬¸ì œ<br>3. ì˜ëª»ëœ URL<br><br>ì´ ë©”ì‹œì§€ê°€ ë³´ì´ë©´ <strong>ìŠ¤í¬ë¦½íŠ¸ ìì²´ê°€ ë¡œë“œë˜ì§€ ì•Šì€ ê²ƒ</strong>ì…ë‹ˆë‹¤.</div>'"></script>

    <script>
        setTimeout(function() {
            if (typeof kakao === 'undefined') {
                result.innerHTML = `
                    <div class="error status">
                        <h2>âŒ SDK ë¡œë“œ ì‹¤íŒ¨</h2>
                        <p><strong>kakao</strong> ê°ì²´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                        <p>ì´ê²ƒì€ ë‹¤ìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤:</p>
                        <ol>
                            <li><strong>API í‚¤ê°€ ìœ íš¨í•˜ì§€ ì•ŠìŒ</strong> (ê°€ì¥ ê°€ëŠ¥ì„± ë†’ìŒ)</li>
                            <li>API í‚¤ê°€ ë¹„í™œì„±í™”ë˜ì—ˆê±°ë‚˜ ì‚­ì œë¨</li>
                            <li>ì¹´ì¹´ì˜¤ ì•±ì´ ì •ì§€ë¨</li>
                        </ol>
                        <hr>
                        <h3>ğŸ”§ í•´ê²° ë°©ë²•:</h3>
                        <p><a href="https://developers.kakao.com" target="_blank" style="color: #1565c0; font-weight: bold;">ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†”</a>ì— ì ‘ì†í•˜ì—¬:</p>
                        <ol>
                            <li>ë¡œê·¸ì¸</li>
                            <li>"ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜" í´ë¦­</li>
                            <li>API í‚¤ <code class="code">29b5e465ce1f0e75c0c79be6671c8232</code>ë¥¼ ì‚¬ìš©í•˜ëŠ” ì•± ì°¾ê¸°</li>
                            <li>ì•± ìƒíƒœê°€ "í™œì„±" ì¸ì§€ í™•ì¸</li>
                            <li>"ì•± ì„¤ì •" â†’ "í”Œë«í¼" â†’ "Web í”Œë«í¼ ë“±ë¡"</li>
                            <li>ë‹¤ìŒ ë„ë©”ì¸ ì¶”ê°€:<br>
                                <code class="code">https://c820131-bit.github.io</code>
                            </li>
                        </ol>
                        <hr>
                        <p style="color: #d32f2f; font-weight: bold;">âš ï¸ ë§Œì•½ ì•±ì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ë©´, ìƒˆ API í‚¤ë¥¼ ë°œê¸‰ë°›ì•„ì•¼ í•©ë‹ˆë‹¤!</p>
                    </div>
                `;

                // Network ì •ë³´ í‘œì‹œ
                details.innerHTML = `
                    <h3>ğŸ” ì¶”ê°€ ì§„ë‹¨:</h3>
                    <div class="info status">
                        <p>ì•„ë˜ ëª…ë ¹ì„ ë¸Œë¼ìš°ì € ì½˜ì†”(F12 â†’ Console)ì— ë¶™ì—¬ë„£ê³  ì‹¤í–‰í•˜ì„¸ìš”:</p>
                        <pre>fetch('https://dapi.kakao.com/v2/maps/sdk.js?appkey=29b5e465ce1f0e75c0c79be6671c8232')
  .then(r => console.log('HTTP ìƒíƒœ:', r.status, r.statusText))
  .catch(e => console.error('ë¡œë“œ ì‹¤íŒ¨:', e))</pre>
                        <p>ê²°ê³¼ì— ë‚˜ì˜¤ëŠ” <strong>HTTP ìƒíƒœ ì½”ë“œ</strong>ë¥¼ í™•ì¸í•˜ì„¸ìš”:</p>
                        <ul>
                            <li><strong>200</strong> = ì„±ê³µ (ë‹¤ë¥¸ ë¬¸ì œ)</li>
                            <li><strong>401</strong> = ì¸ì¦ ì‹¤íŒ¨ (API í‚¤ ë¬¸ì œ)</li>
                            <li><strong>403</strong> = ì ‘ê·¼ ê±°ë¶€ (ë„ë©”ì¸ ë¯¸ë“±ë¡)</li>
                            <li><strong>404</strong> = ëª» ì°¾ìŒ (API í‚¤ ì¡´ì¬í•˜ì§€ ì•ŠìŒ)</li>
                        </ul>
                    </div>
                `;
                return;
            }

            result.innerHTML = '<div class="success status">âœ… kakao ê°ì²´ ë¡œë“œ ì„±ê³µ!</div>';

            if (typeof kakao.maps === 'undefined') {
                result.innerHTML += '<div class="error status">âŒ kakao.maps ì—†ìŒ</div>';
                return;
            }

            result.innerHTML += '<div class="success status">âœ… kakao.maps í™•ì¸!</div>';

            kakao.maps.load(function() {
                result.innerHTML += '<div class="success status">âœ… kakao.maps.load() ì„±ê³µ!</div>';

                try {
                    const container = document.getElementById('map');
                    const options = {
                        center: new kakao.maps.LatLng(37.5665, 126.9780),
                        level: 8
                    };

                    const map = new kakao.maps.Map(container, options);

                    const marker = new kakao.maps.Marker({
                        position: new kakao.maps.LatLng(37.5665, 126.9780)
                    });
                    marker.setMap(map);

                    result.innerHTML = `
                        <div class="success status">
                            <h2>ğŸ‰ ì™„ë²½í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤!</h2>
                            <p>ì§€ë„ê°€ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                            <p><strong>ê²°ë¡ :</strong> API í‚¤ëŠ” ì •ìƒì…ë‹ˆë‹¤!</p>
                            <p>ì›ë³¸ index.html íŒŒì¼ì— ë‹¤ë¥¸ ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        </div>
                    `;

                } catch (error) {
                    result.innerHTML = `
                        <div class="error status">
                            <h2>âŒ ì§€ë„ ìƒì„± ì‹¤íŒ¨</h2>
                            <p><strong>ì˜¤ë¥˜:</strong> ${error.message}</p>
                            <pre>${error.stack}</pre>
                        </div>
                    `;
                }
            });

        }, 2000);
    </script>
</body>
</html>
